<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<ScrollPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="org.example.controllers.admin.ManagerActivityDashboard"
            fitToWidth="true">
    <content>
        <VBox spacing="20">
            <padding>
                <Insets top="10" right="10" bottom="10" left="10"/>
            </padding>

            <Label text="Occupancy Dashboard" style="-fx-font-size: 18px; -fx-font-weight: bold;" />

            <!-- Check-In Panel -->
            <TitledPane text="Check In Student" expanded="true">
                <VBox spacing="10">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>

                    <TextField fx:id="checkInUsernameField" promptText="Enter email or username"/>

                    <HBox spacing="10">
                        <Label text="Select Gym:" />
                        <ComboBox fx:id="gymComboBox" prefWidth="250"/>
                    </HBox>

                    <Label text="Select Facilities:" />
                    <TableView fx:id="facilityTable" prefHeight="200">
                        <columns>
                            <TableColumn fx:id="nameColumn" text="Facility Name" prefWidth="250"/>
                            <TableColumn fx:id="maxUsersColumn" text="Max Concurrent Users" prefWidth="200"/>
                        </columns>
                    </TableView>

                    <Button text="Check In" onAction="#handleCheckIn"/>
                </VBox>
            </TitledPane>

            <!-- Check-Out Panel -->
            <TitledPane text="Check Out Student" expanded="false">
                <VBox spacing="10">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>
                    <TextField fx:id="checkOutUsernameField" promptText="Enter username"/>
                    <Button text="Check Out" onAction="#handleCheckOut"/>
                </VBox>
            </TitledPane>

            <!-- Occupancy Display -->
            <TitledPane text="Current Gym Occupancy" expanded="false">
                <VBox spacing="10">
                    <padding>
                        <Insets top="10" right="10" bottom="10" left="10"/>
                    </padding>
                    <VBox fx:id="occupancyLabelContainer" spacing="5"/>
                    <Button text="Refresh" onAction="#handleRefreshOccupancy"/>
                </VBox>
            </TitledPane>

            <!-- Facility Usage Display -->
            <VBox fx:id="gymFacilityPaneContainer" spacing="10"/>
        </VBox>
    </content>
</ScrollPane>
